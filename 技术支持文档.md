# 禅番茄 (ZenTomato) - 技术支持文档

**版本:** 1.0.1 (250904)  
**最后更新:** 2025年9月4日  
**开发者:** 水木易  
**联系邮箱:** shuimuyicom@gmail.com

---

## 📱 应用概述

禅番茄是一款专为macOS设计的番茄工作法时间管理工具，采用原生SwiftUI开发，提供优雅的菜单栏集成体验。应用将传统番茄工作法与禅意美学完美融合，帮助用户提高工作专注度和效率。

### 核心特性
- 🍅 **智能番茄钟**：可自定义工作/休息时长，自动周期管理
- 📍 **菜单栏集成**：常驻菜单栏，点击即用，不占用Dock空间
- 🎵 **禅意音效**：内置多种音效和背景白噪音
- 🔔 **智能通知**：系统通知提醒，支持交互式操作
- 🎨 **优雅界面**：禅意设计风格，呼吸动画背景
- 🔒 **隐私优先**：完全本地运行，不收集任何用户数据

---

## 🖥️ 系统要求

### 最低系统要求
- **操作系统:** macOS 11.0 (Big Sur) 或更高版本
- **架构:** 支持Intel和Apple Silicon (M1/M2/M3) 处理器
- **内存:** 至少8GB RAM（推荐）
- **存储空间:** 约50MB可用空间
- **权限:** 通知权限（可选），音频权限（可选）

### 兼容性
- ✅ macOS Sonoma (14.0+)
- ✅ macOS Ventura (13.0+)
- ✅ macOS Monterey (12.0+)
- ✅ macOS Big Sur (11.0+)

---

## 🚀 快速开始

### 1. 安装和启动
1. 从Mac App Store下载并安装禅番茄
2. 首次启动时，应用会出现在菜单栏右侧
3. 点击菜单栏中的番茄图标打开控制面板
4. 系统可能会请求通知权限，建议允许以获得最佳体验

### 2. 基本使用
1. **开始工作**：点击主控制按钮开始25分钟工作计时
2. **调整时长**：在设置页面自定义工作和休息时长
3. **控制计时**：支持开始、暂停、停止、跳过操作
4. **查看进度**：菜单栏显示剩余时间，进度环显示完成进度

### 3. 功能介绍

#### 🎯 专注页面
- **主计时器**：显示当前阶段剩余时间
- **进度环**：可视化显示当前进度
- **控制按钮**：开始/暂停计时
- **阶段指示**：显示当前是工作还是休息阶段
- **周期计数**：显示已完成的番茄周期数

#### ⚙️ 设置页面
- **时长设置**：
  - 工作时长：1-60分钟（默认25分钟）
  - 短休息：1-60分钟（默认5分钟）
  - 长休息：1-60分钟（默认15分钟）
  - 长休息周期：每几个番茄后进入长休息（默认4个）

- **自动化选项**：
  - 自动开始休息：工作结束后自动开始休息
  - 自动开始工作：休息结束后自动开始工作
  - 菜单栏显示时间：在菜单栏显示剩余时间

- **系统集成**：
  - 开机自动启动：系统启动时自动运行应用

#### 🎵 音效页面
- **音效控制**：
  - 开始音效：工作开始时播放
  - 结束音效：阶段结束时播放
  - 背景滴答声：工作期间的专注音效
  - 主音量：控制所有音效音量（0-200%）
  - 静音模式：一键关闭所有音效

---

## 🔧 故障排除

### 常见问题及解决方案

#### ❓ 应用无法启动
**问题**：点击应用图标后没有反应
**解决方案**：
1. 检查菜单栏右侧是否有番茄图标
2. 在"系统偏好设置" > "安全性与隐私" > "隐私"中检查应用权限
3. 尝试重启应用：右键菜单栏图标 > 退出，然后重新启动
4. 如果问题持续，请重新安装应用

#### ❓ 通知不显示
**问题**：计时结束时没有收到通知
**解决方案**：
1. 检查"系统偏好设置" > "通知和专注模式"
2. 找到"禅番茄"并确保通知已启用
3. 确保"勿扰模式"未启用，或将应用添加到例外列表
4. 重启应用以重新请求通知权限

#### ❓ 音效无法播放
**问题**：听不到开始或结束音效
**解决方案**：
1. 检查应用内音效设置是否启用
2. 调整主音量滑块确保不为0
3. 检查系统音量设置
4. 在"系统偏好设置" > "声音"中检查输出设备
5. 尝试切换到不同的音效测试

#### ❓ 菜单栏图标消失
**问题**：菜单栏中看不到应用图标
**解决方案**：
1. 检查菜单栏右侧，图标可能被其他应用遮挡
2. 尝试调整菜单栏项目顺序
3. 重启应用
4. 如果使用了菜单栏管理工具，请检查相关设置

#### ❓ 设置无法保存
**问题**：修改设置后重启应用设置丢失
**解决方案**：
1. 确保应用有读写用户偏好设置的权限
2. 检查磁盘空间是否充足
3. 尝试重置设置到默认值后重新配置
4. 如果问题持续，请联系技术支持

#### ❓ 计时不准确
**问题**：计时时间与设置不符
**解决方案**：
1. 检查系统时间是否正确
2. 确保没有在系统暂停/休眠期间计时
3. 重启应用以刷新计时器状态
4. 如果问题持续，请尝试重新安装应用

#### ❓ 开机启动无效
**问题**：设置开机启动后系统重启时应用没有自动启动
**解决方案**：
1. 在"系统偏好设置" > "用户与群组" > "登录项"中检查设置
2. 确保"禅番茄"在登录项列表中且未被禁用
3. 尝试手动添加应用到登录项
4. 重启系统验证设置是否生效

---

## 🔒 隐私与安全

### 数据收集政策
禅番茄严格遵循隐私优先原则：
- **不收集任何个人信息**：包括姓名、邮箱、位置等
- **不进行用户行为追踪**：不使用任何分析或统计工具
- **完全本地存储**：所有设置和数据仅存储在您的设备上
- **无网络通信**：应用不包含任何网络连接功能
- **透明的权限使用**：仅请求必要的系统权限

### 权限说明
应用可能请求以下系统权限：

#### 通知权限
- **用途**：在番茄时间结束时发送提醒通知
- **必要性**：可选，不影响核心功能
- **数据范围**：仅本地通知，不涉及网络传输

#### 音频权限
- **用途**：播放工作开始/结束音效和背景音
- **必要性**：可选，可在应用内完全关闭
- **数据范围**：仅播放本地音频文件

### 数据安全
- 所有用户设置使用macOS标准UserDefaults存储
- 卸载应用时所有数据自动清除
- 不存在数据泄露风险

---

## 📋 使用技巧

### 🎯 提高专注效果
1. **环境准备**：确保工作环境安静，减少干扰源
2. **目标明确**：每个番茄时间开始前确定明确的任务目标
3. **严格执行**：避免在工作时间处理其他事务
4. **充分休息**：利用休息时间放松眼睛和身体

### ⚙️ 个性化设置
1. **时长调整**：根据个人习惯调整工作和休息时长
2. **音效选择**：选择不会干扰工作的轻柔音效
3. **通知设置**：根据工作环境决定是否启用通知
4. **自动化配置**：设置自动开始功能减少手动操作

### 🔄 最佳实践
1. **循序渐进**：初学者可以从较短的工作时间开始
2. **记录反思**：记录每个番茄时间的完成情况和感受
3. **灵活调整**：根据任务性质适当调整时间安排
4. **保持一致**：尽量每天在相同时间使用番茄工作法

---

## 📞 技术支持

### 获取帮助
如果您在使用过程中遇到任何问题，请通过以下方式获取支持：

#### 📧 邮件支持
- **邮箱**：shuimuyicom@gmail.com
- **响应时间**：通常在24-48小时内回复
- **语言**：支持中文和英文

#### 📝 反馈内容建议
为了更好地帮助您解决问题，请在邮件中包含：
1. **问题描述**：详细描述遇到的问题
2. **系统信息**：macOS版本，应用版本
3. **重现步骤**：如何触发该问题
4. **屏幕截图**：如果适用，提供相关截图
5. **错误信息**：任何显示的错误消息

#### 🐛 错误报告格式
```
【错误报告】
应用版本：1.0 (250826)
系统版本：macOS 14.2.1
问题描述：[详细描述问题]
重现步骤：[列出具体步骤]
期望结果：[描述期望的正常行为]
实际结果：[描述实际发生的情况]
```


### 快捷键参考
目前版本暂不支持全局快捷键，此功能在后续版本中会加入：
- 开始/暂停计时
- 跳过当前阶段
- 显示/隐藏主界面

---

## 📝 法律信息

### 版权声明
© 2025 水木易 (shuimuyicom). 保留所有权利。

### 商标信息
"禅番茄"和"ZenTomato"是水木易的商标。

### 第三方组件
应用完全使用苹果官方框架开发，未使用任何第三方组件：
- SwiftUI - 用户界面框架
- Combine - 响应式编程框架
- Foundation - 基础功能框架
- AppKit - macOS应用框架